MAIN
MOVE TEMP 2 4
MOVE TEMP 3 HALLOCATE TEMP 2
MOVE TEMP 1 TEMP 3
MOVE TEMP 5 4
MOVE TEMP 6 HALLOCATE TEMP 5
MOVE TEMP 4 TEMP 6
MOVE TEMP 7 Test_start
HSTORE TEMP 1 0 TEMP 7
HSTORE TEMP 4 0 TEMP 1
MOVE TEMP 0 TEMP 4
HLOAD TEMP 8 TEMP 0 0
HLOAD TEMP 9 TEMP 8 0
MOVE TEMP 10 CALL TEMP 9 ( TEMP 0 )
PRINT TEMP 10
END
A_foo [1]
BEGIN
MOVE TEMP 2 0
MOVE TEMP 1 TEMP 2
MOVE TEMP 4 12
MOVE TEMP 5 HALLOCATE TEMP 4
MOVE TEMP 3 TEMP 5
MOVE TEMP 7 8
MOVE TEMP 8 HALLOCATE TEMP 7
MOVE TEMP 6 TEMP 8
MOVE TEMP 9 A_set
HSTORE TEMP 3 8 TEMP 9
MOVE TEMP 10 A_foo
HSTORE TEMP 3 0 TEMP 10
MOVE TEMP 11 A_get
HSTORE TEMP 3 4 TEMP 11
HSTORE TEMP 6 0 TEMP 3
MOVE TEMP 1 TEMP 6
RETURN TEMP 1
END
A_get [1]
BEGIN
HLOAD TEMP 1 TEMP 0 4
RETURN TEMP 1
END
A_set [1]
BEGIN
MOVE TEMP 1 1
HSTORE TEMP 0 4 TEMP 1
MOVE TEMP 2 1
RETURN TEMP 2
END
Test_start [1]
BEGIN
MOVE TEMP 2 0
MOVE TEMP 1 TEMP 2
MOVE TEMP 4 12
MOVE TEMP 5 HALLOCATE TEMP 4
MOVE TEMP 3 TEMP 5
MOVE TEMP 7 8
MOVE TEMP 8 HALLOCATE TEMP 7
MOVE TEMP 6 TEMP 8
MOVE TEMP 9 A_set
HSTORE TEMP 3 8 TEMP 9
MOVE TEMP 10 A_foo
HSTORE TEMP 3 0 TEMP 10
MOVE TEMP 11 A_get
HSTORE TEMP 3 4 TEMP 11
HSTORE TEMP 6 0 TEMP 3
MOVE TEMP 1 TEMP 6
MOVE TEMP 12 TEMP 1
HLOAD TEMP 13 TEMP 12 0
HLOAD TEMP 14 TEMP 13 0
MOVE TEMP 15 CALL TEMP 14 ( TEMP 12 )
MOVE TEMP 1 TEMP 15
MOVE TEMP 16 TEMP 1
HLOAD TEMP 17 TEMP 16 0
HLOAD TEMP 18 TEMP 17 8
MOVE TEMP 19 CALL TEMP 18 ( TEMP 16 )
PRINT TEMP 19
MOVE TEMP 20 TEMP 1
HLOAD TEMP 21 TEMP 20 0
HLOAD TEMP 22 TEMP 21 4
MOVE TEMP 23 CALL TEMP 22 ( TEMP 20 )
PRINT TEMP 23
MOVE TEMP 24 1
RETURN TEMP 24
END
